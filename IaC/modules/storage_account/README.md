<!-- BEGIN_TF_DOCS -->
# IaC demo pipeline - autogenerated module documentation
```hcl
This module create storage account based on the HLD.

Depends on:
1. Resource group
2. Connectivite Vnet
3. Storage account private DNS zone
```
## Example ussage
```hcl
module "storage_account" {
  source           = "git::https://github.com/microsoft//main/IaC/Modules/storage_account"
  providers        = { azurerm = azurerm.sub-shared_resources-platform }
  environment      = "production"
  pe_snet_id       = "/subscriptions/XXXXXXXX-YYYY-ZZZZ-AAAA-BBBBBBBBBBBB/resourceGroups/rg_name/providers/Microsoft.Network/virtualNetworks/vnet_name/subnets/snet_name"
  pe_zone_id       = "/subscriptions/XXXXXXXX-YYYY-ZZZZ-AAAA-BBBBBBBBBBBB/resourceGroups/rg_name/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net"
  storage_accounts = [
    {
      description      = "terraformstate"
      rg_name          = "rg-terraform-state-prod"
      public_access    = true
      delete_retention = 1
      restore          = 1
      containers       = ["terraform-state-contsiner"]
      kv_id            = "/subscriptions/XXXXXXXX-YYYY-ZZZZ-AAAA-BBBBBBBBBBBB/resourceGroups/rg-keyvault/providers/Microsoft.KeyVault/vaults/kv"
      kv_key_name      = "key-terraformstorage-hsm"
    },
    {
      description      = "ghes" 
      rg_name          = "rg-ghes-server-prod"
      delete_retention = 1
      restore          = 1
      containers       = ["dependencies"]
      kv_id            = "/subscriptions/XXXXXXXX-YYYY-ZZZZ-AAAA-BBBBBBBBBBBB/resourceGroups/rg-keyvault/providers/Microsoft.KeyVault/vaults/kv"
      kv_key_name      = "key-ghestorage-hsm"
    }
  ]
}
```
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_environment"></a> [environment](#input\_environment) | (Required) Specifies the environment, for example: 'production' or 'pre-production' | `string` | n/a | yes |
| <a name="input_location"></a> [location](#input\_location) | (Optional) Specifies the location, for example: 'north Europe' or 'west Europe'. | `string` | `"West Europe"` | no |
| <a name="input_pe_snet_id"></a> [pe\_snet\_id](#input\_pe\_snet\_id) | (Required) Specifies the storage account's private endpoint subnet id. | `string` | n/a | yes |
| <a name="input_pe_zone_id"></a> [pe\_zone\_id](#input\_pe\_zone\_id) | (Required) Specifies the storage account's private endpoint private DNS zone id. | `string` | n/a | yes |
| <a name="input_storage_accounts"></a> [storage\_accounts](#input\_storage\_accounts) | (Required)Specifies the list of storage account's objects | <pre>list(object({<br>    description       = string<br>    rg_name           = string<br>    account_tier      = optional(string, "Standard")<br>    replication       = optional(string, "LRS")<br>    public_access     = optional(bool, true)<br>    encrypt_infra     = optional(bool, true)<br>    public_nested     = optional(bool, false)<br>    shared_access_key = optional(bool, true)<br>    delete_retention  = number<br>    restore           = number<br>    allowed_pips      = optional(list(string), [])<br>    allowed_snet_ids  = optional(list(string), [])<br>    containers        = list(string)<br>    kv_id             = string<br>    kv_key_name       = string<br>  }))</pre> | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_container_id"></a> [container\_id](#output\_container\_id) | n/a |
| <a name="output_container_mane"></a> [container\_mane](#output\_container\_mane) | n/a |
| <a name="output_storage_id"></a> [storage\_id](#output\_storage\_id) | n/a |
| <a name="output_storage_name"></a> [storage\_name](#output\_storage\_name) | n/a |
| <a name="output_storage_pe_id"></a> [storage\_pe\_id](#output\_storage\_pe\_id) | n/a |
| <a name="output_storage_pe_ip"></a> [storage\_pe\_ip](#output\_storage\_pe\_ip) | n/a |
| <a name="output_storage_pe_name"></a> [storage\_pe\_name](#output\_storage\_pe\_name) | n/a |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_azurerm"></a> [azurerm](#provider\_azurerm) | n/a |

## Resources

| Name | Type |
|------|------|
| [azurerm_storage_account.storage_account](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_account) | resource |
| [azurerm_storage_account_customer_managed_key.cmk](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_account_customer_managed_key) | resource |
| [azurerm_storage_container.storage_container](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_container) | resource |

## Requirements

No requirements.

## Change log
```hcl
 - V1.0.0 - module created
```
## Footer
```hcl
This README was generated automatically with [terraform-docs](https://terraform-docs.io/).
Docks are validated and corrected during push.
```
<!-- END_TF_DOCS -->